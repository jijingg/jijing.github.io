<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta name="baidu-site-verification" content="5NJSOR3owM">
    <meta name="msvalidate.01" content="151864C0926CAD18FEA3D03EA31DCEB6">
    <meta charset="utf-8">
<title>函数是编程的闭包和迭代器理解 - 马車同学</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta name="description" content="什么是闭包？闭包是一类特殊的函数。如果一个函数定义在另一个函数的作用域中，并且函数中引用了外部函数的局部变量，那么这个函数就是一个闭包。123456789101112def lazy_sum(*args):    def sum():        ax = 0        for n in args:            ax = ax + n        return ax    ret">
<meta name="keywords" content="函数式编程">
<meta property="og:type" content="article">
<meta property="og:title" content="函数是编程的闭包和迭代器理解">
<meta property="og:url" content="https://jijingg.github.io/sicp/20190414-fp-closure-iterator.html">
<meta property="og:site_name" content="马車同学">
<meta property="og:description" content="什么是闭包？闭包是一类特殊的函数。如果一个函数定义在另一个函数的作用域中，并且函数中引用了外部函数的局部变量，那么这个函数就是一个闭包。123456789101112def lazy_sum(*args):    def sum():        ax = 0        for n in args:            ax = ax + n        return ax    ret">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://source.jijing.site/thumbnails/wb2.jpg">
<meta property="og:updated_time" content="2019-10-11T07:33:36.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="函数是编程的闭包和迭代器理解">
<meta name="twitter:description" content="什么是闭包？闭包是一类特殊的函数。如果一个函数定义在另一个函数的作用域中，并且函数中引用了外部函数的局部变量，那么这个函数就是一个闭包。123456789101112def lazy_sum(*args):    def sum():        ax = 0        for n in args:            ax = ax + n        return ax    ret">
<meta name="twitter:image" content="http://source.jijing.site/thumbnails/wb2.jpg">







<link rel="icon" href="/favicon.ico">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    
    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="函数是编程的闭包和迭代器理解" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">文章</a>
                
                <a class="navbar-item" href="/main/">目录</a>
                
                <a class="navbar-item" href="/spinalhdl/">SpinalHDL</a>
                
                <a class="navbar-item" href="/topic/">主题</a>
                
                <a class="navbar-item" href="/categories/">分类</a>
                
                <a class="navbar-item" href="/tags/">标签</a>
                
                <a class="navbar-item" href="/archives/">时间轴</a>
                
                <a class="navbar-item" href="/about/">关于</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="http://github.com/jijingg">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-9 has-order-2 column-main"><div class="card">
    
    <div class="card-image">
        <span class="image is-7by1">
            <img class="thumbnail" src="http://source.jijing.site/thumbnails/wb2.jpg" alt="函数是编程的闭包和迭代器理解">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-04-14T05:48:12.000Z">2019-04-14</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 读完 (大约 1261 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-4 is-size-4-mobile has-text-weight-normal">
            
                函数是编程的闭包和迭代器理解
            
        </h1>
        <div class="content">
            <h3 id="什么是闭包？"><a href="#什么是闭包？" class="headerlink" title="什么是闭包？"></a>什么是闭包？</h3><p>闭包是一类特殊的函数。如果一个函数定义在另一个函数的作用域中，并且函数中引用了外部函数的局部变量，那么这个函数就是一个闭包。<br><figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">lazy_sum</span><span class="hljs-params">(*args)</span>:</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sum</span><span class="hljs-params">()</span>:</span></span><br><span class="line">        ax = <span class="hljs-number">0</span></span><br><span class="line">        <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> args:</span><br><span class="line">            ax = ax + n</span><br><span class="line">        <span class="hljs-keyword">return</span> ax</span><br><span class="line">    <span class="hljs-keyword">return</span> sum</span><br><span class="line"></span><br><span class="line">$ lazy_sum(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)</span><br><span class="line">&lt;function sum at <span class="hljs-number">0x10452f668</span>&gt;</span><br><span class="line">$ lazy_sum(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)()</span><br><span class="line"><span class="hljs-number">15</span></span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>在函数lazy_sum中又定义了函数sum，并且，内部函数sum可以引用外部函数lazy_sum的参数和局部变量，<br>当lazy_sum返回函数sum时，相关参数和变量都保存在返回的函数中，称为闭包</p>
<p>需要注意的问题是，返回的函数并没有立刻执行，而是直到调用了 f() 才执行。我们来看一个例子</p>
<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count</span><span class="hljs-params">()</span>:</span></span><br><span class="line">    fs = []</span><br><span class="line">    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>,<span class="hljs-number">4</span>):</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span><span class="hljs-params">()</span>:</span></span><br><span class="line">            <span class="hljs-keyword">return</span> i * <span class="hljs-number">4</span></span><br><span class="line">        fs.append(f)</span><br><span class="line">    <span class="hljs-keyword">return</span> fs </span><br><span class="line">$ f1, f2, f3 = count()</span><br><span class="line">$ f1()</span><br><span class="line"><span class="hljs-number">9</span></span><br><span class="line">$ f2()</span><br><span class="line"><span class="hljs-number">9</span></span><br><span class="line">$ f3()</span><br><span class="line"><span class="hljs-number">9</span></span><br></pre></td></tr></table></figure>
<p>返回闭包时牢记的一点就是：返回函数不要引用任何循环变量，或者后续会发生变化的变量。<br>因为她封装的是这个变量，最后求值的时候才会去取这个变量，上面i最后的值是3.<br>所以三个函数得到的都是9<br>如果非要在引用变量，可以这么做<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def count():</span><br><span class="line">    fs = []</span><br><span class="line">    for i in range(1,4):</span><br><span class="line">        def wrap(i):         #i参数传递进去是确定的值</span><br><span class="line">            def f():</span><br><span class="line">                return i * 4</span><br><span class="line">            return f</span><br><span class="line">        fs.append(wrap(i))   #已将i作为固定值传递进去</span><br><span class="line">    return fs</span><br></pre></td></tr></table></figure></p>
<h3 id="闭包有什么用处？"><a href="#闭包有什么用处？" class="headerlink" title="闭包有什么用处？"></a>闭包有什么用处？</h3><p>本质上，闭包是将函数内部和函数外部连接起来的桥梁。<br><figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ExFunc</span><span class="hljs-params">(n)</span>:</span></span><br><span class="line">     sum=n</span><br><span class="line">     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">InsFunc</span><span class="hljs-params">()</span>:</span></span><br><span class="line">             <span class="hljs-keyword">return</span> sum+<span class="hljs-number">1</span></span><br><span class="line">     <span class="hljs-keyword">return</span> InsFunc</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">&gt;&gt;&gt; </span>myFunc=ExFunc(<span class="hljs-number">10</span>)</span><br><span class="line"><span class="hljs-meta">&gt;&gt;&gt; </span>myFunc()</span><br><span class="line"><span class="hljs-number">11</span></span><br><span class="line"><span class="hljs-meta">&gt;&gt;&gt; </span>myAnotherFunc=ExFunc(<span class="hljs-number">20</span>)</span><br><span class="line"><span class="hljs-meta">&gt;&gt;&gt; </span>myAnotherFunc()</span><br><span class="line"><span class="hljs-number">21</span></span><br><span class="line"><span class="hljs-meta">&gt;&gt;&gt; </span>myFunc()</span><br><span class="line"><span class="hljs-number">11</span></span><br><span class="line"><span class="hljs-meta">&gt;&gt;&gt; </span>myAnotherFunc()</span><br><span class="line"><span class="hljs-number">21</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure></p>
<p>由于闭包把函数和运行时的引用环境打包成为一个新的整体，所以就解决了函数编程中的嵌套所引发的问题。如上述代码段中，当每次调用ExFunc函数时都将返回一个新的闭包实例，这些实例之间是隔离的，分别包含调用时不同的引用环境现场。不同于函数，闭包在运行时可以有多个实例，不同的引用环境和相同的函数组合可以产生不同的实例</p>
<p>他最根本的用途是提供了更深的代码复用</p>
<h3 id="怎么理解函数是一等公民？"><a href="#怎么理解函数是一等公民？" class="headerlink" title="怎么理解函数是一等公民？"></a>怎么理解函数是一等公民？</h3><p>变量是一等公民，变量怎么用，函数就能怎么用<br>变量出现的地方，函数都可以出现</p>
<h3 id="怎么理解函数式编程的惰性求值？"><a href="#怎么理解函数式编程的惰性求值？" class="headerlink" title="怎么理解函数式编程的惰性求值？"></a>怎么理解函数式编程的惰性求值？</h3><p>函数式编程的主题之一是关注分离(separation of concerns)。希望将计算的描述与实际运行分离<br>一般而言，惰性化对一个表达式分离了它的描述和求值。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; def maybeTwice(b: Boolean, i: =&gt; int) =  if(b) i+i else 0</span><br><span class="line">scala&gt; val x = maybeTwice(true, &#123; println(&quot;hi&quot;); 42&#125;) #&#123;,x&#125;的传参方法可以用于debug</span><br><span class="line">hi</span><br><span class="line">hi</span><br><span class="line">x: Int = 84</span><br><span class="line">scala&gt; val x = maybeTwice(false, &#123; println(&quot;hi&quot;); 42&#125;) </span><br><span class="line">x: Int = 0     </span><br><span class="line"># 可以表达式&#123;println(&quot;hi&quot;),2&#125; 根本就没有被执行，它也不需要被执行，</span><br><span class="line"># 但是如果是传值调用，那么b不管真否，表达式都必须求值</span><br><span class="line"># 所以只有当用到时才求值，用不到不求值，也是传名调用的一种用途吧</span><br></pre></td></tr></table></figure>
<p>反过来，如果这个参数被用到多次，那么传名参数要被求值多次，反而效率不如传值参数。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; def maybeTwice(b: Boolean, i: =&gt; int) = &#123;</span><br><span class="line">     |   lazy val j = i</span><br><span class="line">     |   if(b) j+j else 0</span><br><span class="line">     | &#125;</span><br><span class="line">scala&gt; val x = maybeTwice(true, &#123; println(&quot;hi&quot;); 42&#125;)</span><br><span class="line">hi</span><br><span class="line">x: Int = 84</span><br></pre></td></tr></table></figure>
<p><a href="https://segmentfault.com/a/1190000017066715?utm_source=tag-newest#articleHeader1" target="_blank" rel="noopener">惰性求值参考</a></p>
<p>如何理解lazy<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; val x = &#123; println(&quot;i&apos;m positive&quot;); &quot;Howdy&quot;&#125;   //赋值时就积极执行expr求值 赋值给变量</span><br><span class="line">i&apos;m positive</span><br><span class="line">x: String = Howdy</span><br><span class="line">scala&gt; println(x)</span><br><span class="line">Howdy</span><br><span class="line">scala&gt; lazy val y = &#123; println(&quot;i&apos;m lazy&quot;); &quot;Vigilance&quot;&#125;  //等用到y的时候在执行expr</span><br><span class="line">y: String = &lt;lazy&gt;</span><br><span class="line">scala&gt; println(y)</span><br><span class="line">i&apos;m lazy</span><br><span class="line">Vigilance</span><br></pre></td></tr></table></figure></p>
<h3 id="scala-的传名调用，传值调用"><a href="#scala-的传名调用，传值调用" class="headerlink" title="scala 的传名调用，传值调用"></a>scala 的传名调用，传值调用</h3><p>() =&gt; Unit 是函数<br>=&gt; Unit  是执行结果为Unit的表达式<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">object Add &#123;</span><br><span class="line">  def addByName(a: Int, b: =&gt; Int) = a + b + b</span><br><span class="line">  def addByValue(a: Int, b: Int) = a + b + b </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">scala&gt; Add.addByValue(2, &#123;println(&quot;callByValue&quot;);3&#125;)</span><br><span class="line">callByValue     # b 的求值只被执行了一次，传值调用</span><br><span class="line">res15: Int = 8</span><br><span class="line"></span><br><span class="line">scala&gt; Add.addByName(2, &#123;println(&quot;callByName&quot;);3&#125;)</span><br><span class="line">callByName      # b 被执行了2次，传名调用</span><br><span class="line">callByName</span><br><span class="line">res17: Int = 8</span><br></pre></td></tr></table></figure></p>
<p>到现在 你可以发现传名参数本质就是将参数的lazy化，<br>类似于 def addByName(a: Int, lazy b: Expr)，只不过没有定义成这种语法而已</p>
<h3 id="Chisel里的lazy-module有什么用？"><a href="#Chisel里的lazy-module有什么用？" class="headerlink" title="Chisel里的lazy module有什么用？"></a>Chisel里的lazy module有什么用？</h3><p><a href="https://github.com/Intensivate/learning-journey/wiki/LazyModule" target="_blank" rel="noopener">官方解释</a><br>The LazyModule construct was created as a way to delay calling the constructor until after there’s been a chance to calculate the parameters to give it. LazyModule decouples the point in the code where a circuit element is instantiated, from the point in the code where the constructor is called and that instance is actually built. In Rocket, one main driver of this lazy approach is Diplomacy), which creates the TileLink2 and AXI connections on the chip. Diplomacy, in turn, is built on top of the Cake pattern</p>
<h3 id="怎么理解函数式编程无副作用？"><a href="#怎么理解函数式编程无副作用？" class="headerlink" title="怎么理解函数式编程无副作用？"></a>怎么理解函数式编程无副作用？</h3>
        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/函数式编程/">函数式编程</a>
                </div>
            </div>
        </div>
        
        
        
        <div class="social-share"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css">
<script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script>
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/chisel/chisel_QA.html">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">Chisel 常见问题</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/others/hexo_utlis.html">
                <span class="level-item">Hexo 技巧收录</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">评论</h3>
        
<div id="comment-container"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.4.1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.4.1/dist/gitalk.min.js"></script>
<script>
    var gitalk = new Gitalk({
        clientID: '093159b2b9ec0c354aea',
        clientSecret: '257f4905823748d3751c5c482f18442986a5a5ae',
        id: 'b546dae629ffd35e97a5220bcfa2f0eb',
        repo: 'jijingg.github.io',
        owner: 'jijingg',
        admin: ["jijingg"]
    })
    gitalk.render('comment-container')
</script>

    </div>
</div>

</div>
                
                    

                    




<div class="column is-3-tablet is-3-desktop is-3-widescreen  has-order-3 column-right ">
    
        
            
            
        
    
        
            
                
            
        
    
        
            
                
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/chisel/">
            <span class="level-start">
                <span class="level-item">chisel</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">8</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/eda/">
            <span class="level-start">
                <span class="level-item">eda</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/others/">
            <span class="level-start">
                <span class="level-item">others</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">7</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/riscv/">
            <span class="level-start">
                <span class="level-item">riscv</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">9</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/scala/">
            <span class="level-start">
                <span class="level-item">scala</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">8</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/sicp/">
            <span class="level-start">
                <span class="level-item">sicp</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">9</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/spinal/">
            <span class="level-start">
                <span class="level-item">spinal</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
            
        
    
        
            
                
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/scala/20200221_maven_windows.html" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="http://source.jijing.site/thumbnails/led2.jpg" alt="Maven Windows 配置">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-19T16:00:00.000Z">2020-02-20</time></div>
                    <a href="/scala/20200221_maven_windows.html" class="has-link-black-ter is-size-6">Maven Windows 配置</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/scala/">scala</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/scala/20200119_scala_single_object.html" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="http://source.jijing.site/thumbnails/toy3.jpg" alt="Scala 单例对象的三个应用">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-18T16:00:00.000Z">2020-01-19</time></div>
                    <a href="/scala/20200119_scala_single_object.html" class="has-link-black-ter is-size-6">Scala 单例对象的三个应用</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/scala/">scala</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/eda/install_verilator_on_windows.html" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="http://source.jijing.site/thumbnails/tools6.jpg" alt="Spinal-sim Verilator install on Windows">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-09T16:00:00.000Z">2020-01-10</time></div>
                    <a href="/eda/install_verilator_on_windows.html" class="has-link-black-ter is-size-6">Spinal-sim Verilator install on Windows</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/eda/">eda</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/others/float_trap.html" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="http://source.jijing.site/thumbnails/fail1.jpg" alt="浮点避坑">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-02T16:00:00.000Z">2020-01-03</time></div>
                    <a href="/others/float_trap.html" class="has-link-black-ter is-size-6">浮点避坑</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/others/">others</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/spinal/spinal7.html" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="http://source.jijing.site/thumbnails/dirty2.jpg" alt="SpinalHDL(七):逢山开路-寄存器接口">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-04T16:00:00.000Z">2019-12-05</time></div>
                    <a href="/spinal/spinal7.html" class="has-link-black-ter is-size-6">SpinalHDL(七):逢山开路-寄存器接口</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/spinal/">spinal</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

            
        
    
        
            
                <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">五月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">四月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">三月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">12</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">七月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2014/02/">
                <span class="level-start">
                    <span class="level-item">二月 2014</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
            
        
    
        
            
                <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Chisel/">
                        <span class="tag">Chisel</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA/">
                        <span class="tag">IDEA</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Macro/">
                        <span class="tag">Macro</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SpinalHDL-Scala/">
                        <span class="tag">SpinalHDL  Scala</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/firrtl/">
                        <span class="tag">firrtl</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/make/">
                        <span class="tag">make</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/riscv/">
                        <span class="tag">riscv</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/scala/">
                        <span class="tag">scala</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/verctor/">
                        <span class="tag">verctor</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/verilog/">
                        <span class="tag">verilog</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/函数式编程/">
                        <span class="tag">函数式编程</span>
                        <span class="tag is-grey">16</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分型/">
                        <span class="tag">分型</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开发环境/">
                        <span class="tag">开发环境</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/计算机/">
                        <span class="tag">计算机</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/递归/">
                        <span class="tag">递归</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
            
        
    
        
            
                

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            推荐链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="http://www.sharetechnote.com/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">通信笔记</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.sharetechnote.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://www.lihaoyi.com/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Scala大神Lihaoyi</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.lihaoyi.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://bellard.org/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">FabriceBellard你懂得</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">bellard.org</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://kalasearch.cn" target="_blank">
                    <span class="level-left">
                        <span class="level-item">卡拉搜索</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">kalasearch.cn</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


            
        
    
    
</div>


                
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="函数是编程的闭包和迭代器理解" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 jijing&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                沪ICP备19035362号
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="http://github.com/jijingg">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    
    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>
